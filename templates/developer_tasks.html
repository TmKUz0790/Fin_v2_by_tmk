{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>Developer Tasks</title>#}
{#</head>#}
{#<body>#}
{#    <h1>Your Tasks</h1>#}
{##}
{#    <!-- Display the developer's current balance -->#}
{#    <h2>Your Balance: {{ balance }} USD</h2>#}
{##}
{#    <form method="post">#}
{#        {% csrf_token %}#}
{#        {% for task in tasks %}#}
{#        <div>#}
{#            <h3>{{ task.title }}</h3>#}
{#            <p>Progress: {{ task.progress }}%</p>#}
{#            <p>Payment for this task: {{ task.money_for_task }} USD</p>#}
{#            {% if task.paid %}#}
{#            <p><strong>Payment Status: Paid</strong></p>#}
{#            {% else %}#}
{#            <p><strong>Payment Status: Pending</strong></p>#}
{#            {% endif %}#}
{##}
{#            <label for="progress_{{ task.id }}">Update Progress:</label>#}
{#            <input type="number" id="progress_{{ task.id }}" name="progress" value="{{ task.progress }}" min="0" max="100">#}
{##}
{#            <label for="feedback_{{ task.id }}">Feedback:</label>#}
{#            <textarea id="feedback_{{ task.id }}" name="feedback">{{ task.feedback }}</textarea>#}
{##}
{#            <input type="hidden" name="task_id" value="{{ task.id }}">#}
{#            <button type="submit">Update Task</button>#}
{#        </div>#}
{#        {% endfor %}#}
{#    </form>#}
{##}
{#    <a href="{% url 'developer_login' %}">Logout</a>#}
{#</body>#}
{#</html>#}
{##}
{##}
{##}
{##}
{##}
{##}

{##}
{##}
{##}
{##}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>Developer Tasks</title>#}
{#    <style>#}
{#        body {#}
{#            font-family: Arial, sans-serif;#}
{#            background-color: #f4f7f8;#}
{#            margin: 0;#}
{#            padding: 20px;#}
{#        }#}
{##}
{#        h1, h2 {#}
{#            text-align: center;#}
{#            color: #333;#}
{#        }#}
{##}
{#        .task-list, .task-details {#}
{#            max-width: 800px;#}
{#            margin: 20px auto;#}
{#            background-color: #fff;#}
{#            border-radius: 8px;#}
{#            padding: 20px;#}
{#            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);#}
{#        }#}
{##}
{#        .task-list ul {#}
{#            list-style-type: none;#}
{#            padding: 0;#}
{#        }#}
{##}
{#        .task-list li {#}
{#            padding: 10px;#}
{#            border-bottom: 1px solid #ddd;#}
{#            cursor: pointer;#}
{#        }#}
{##}
{#        .task-list li:hover {#}
{#            background-color: #f1f1f1;#}
{#        }#}
{##}
{#        .task-list li:last-child {#}
{#            border-bottom: none;#}
{#        }#}
{##}
{#        .task {#}
{#            margin-bottom: 20px;#}
{#        }#}
{##}
{#        label {#}
{#            font-size: 14px;#}
{#            color: #333;#}
{#        }#}
{##}
{#        input[type="number"], textarea {#}
{#            width: 100%;#}
{#            padding: 8px;#}
{#            margin: 5px 0 10px;#}
{#            border: 1px solid #ccc;#}
{#            border-radius: 4px;#}
{#            font-size: 14px;#}
{#        }#}
{##}
{#        button {#}
{#            background-color: #1976d2;#}
{#            color: #fff;#}
{#            border: none;#}
{#            padding: 10px 15px;#}
{#            font-size: 14px;#}
{#            border-radius: 4px;#}
{#            cursor: pointer;#}
{#            transition: background-color 0.3s ease;#}
{#        }#}
{##}
{#        button:hover {#}
{#            background-color: #1565c0;#}
{#        }#}
{##}
{#        .logout {#}
{#            display: block;#}
{#            text-align: center;#}
{#            margin-top: 20px;#}
{#            color: #1976d2;#}
{#            text-decoration: none;#}
{#            font-size: 16px;#}
{#        }#}
{##}
{#        .logout:hover {#}
{#            color: #0d47a1;#}
{#        }#}
{##}
{#        .hidden {#}
{#            display: none;#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{#    <h1>Your Tasks</h1>#}
{#    <h2>Your Balance: {{ balance }} USD</h2>#}
{##}
{#    <!-- Task List Section -->#}
{#    <div class="task-list">#}
{#        <h3>Select a Task</h3>#}
{#        <ul>#}
{#            {% for task in tasks %}#}
{#            <li onclick="showTaskDetails({{ task.id }})">{{ task.title }} - {{ task.progress }}% Complete</li>#}
{#            {% endfor %}#}
{#        </ul>#}
{#    </div>#}
{##}
{#    <!-- Task Details Section -->#}
{#    <div id="task-details" class="task-details hidden">#}
{#        <h3 id="task-title"></h3>#}
{#        <p id="task-progress"></p>#}
{#        <p id="task-payment"></p>#}
{#        <p id="task-status"></p>#}
{##}
{#        <form method="post">#}
{#            {% csrf_token %}#}
{#            <label for="progress">Update Progress:</label>#}
{#            <input type="number" id="progress" name="progress" min="0" max="100">#}
{##}
{#            <label for="feedback">Feedback:</label>#}
{#            <textarea id="feedback" name="feedback"></textarea>#}
{##}
{#            <input type="hidden" id="task_id" name="task_id">#}
{#            <button type="submit">Update Task</button>#}
{#        </form>#}
{##}
{#        <button onclick="backToList()">Back to Task List</button>#}
{#    </div>#}
{##}
{#    <a href="{% url 'developer_login' %}" class="logout">Logout</a>#}
{##}
{#    <script>#}
{#        // Sample data for tasks (for the sake of demonstration)#}
{#        const tasks = [#}
{#            {% for task in tasks %}#}
{#            {#}
{#                id: {{ task.id }},#}
{#                title: "{{ task.title }}",#}
{#                progress: {{ task.progress }},#}
{#                money_for_task: {{ task.money_for_task }},#}
{#                paid: {{ task.paid|yesno:"true,false" }},#}
{#                feedback: "{{ task.feedback }}"#}
{#            },#}
{#            {% endfor %}#}
{#        ];#}
{##}
{#        function showTaskDetails(taskId) {#}
{#            // Find the selected task by ID#}
{#            const task = tasks.find(t => t.id === taskId);#}
{#            if (task) {#}
{#                // Populate task details in the details section#}
{#                document.getElementById('task-title').textContent = task.title;#}
{#                document.getElementById('task-progress').textContent = "Progress: " + task.progress + "%";#}
{#                document.getElementById('task-payment').textContent = "Payment for this task: " + task.money_for_task + " USD";#}
{#                document.getElementById('task-status').textContent = "Payment Status: " + (task.paid ? "Paid" : "Pending");#}
{#                #}
{#                document.getElementById('progress').value = task.progress;#}
{#                document.getElementById('feedback').value = task.feedback;#}
{#                document.getElementById('task_id').value = task.id;#}
{##}
{#                // Hide task list and show task details#}
{#                document.querySelector('.task-list').classList.add('hidden');#}
{#                document.getElementById('task-details').classList.remove('hidden');#}
{#            }#}
{#        }#}
{##}
{#        function backToList() {#}
{#            // Hide task details and show task list#}
{#            document.querySelector('.task-list').classList.remove('hidden');#}
{#            document.getElementById('task-details').classList.add('hidden');#}
{#        }#}
{#    </script>#}
{#</body>#}
{#</html>#}







{##}
{##}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>Developer Tasks</title>#}
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#    <style>#}
{#        .task-item {#}
{#            cursor: pointer;#}
{#        }#}
{#        .back-button {#}
{#            cursor: pointer;#}
{#        }#}
{#        .task-details {#}
{#            display: none;#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{##}
{#    <!-- Navbar -->#}
{#    <nav class="navbar navbar-expand-lg navbar-light bg-light">#}
{#        <div class="container">#}
{#            <a class="navbar-brand" href="#">Developer Dashboard</a>#}
{#            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">#}
{#                <span class="navbar-toggler-icon"></span>#}
{#            </button>#}
{#            <div class="collapse navbar-collapse" id="navbarNav">#}
{#                <ul class="navbar-nav ms-auto">#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#payment-history">Payment History</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#write-feedback">Write Feedback</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#update-progress">Update Progress</a>#}
{#                    </li>#}
{#                </ul>#}
{#            </div>#}
{#        </div>#}
{#    </nav>#}
{##}
{#    <!-- Main Content -->#}
{#    <div class="container my-4">#}
{#        <h1 class="text-center">Your Tasks</h1>#}
{#        <h2 class="text-center">Your Balance: {{ balance }} USD</h2>#}
{##}
{#        <!-- Task List -->#}
{#        <div id="task-list">#}
{#            <h2>All Tasks and Deadlines</h2>#}
{#            <div class="list-group">#}
{#                {% for task in tasks %}#}
{#                <a href="javascript:void(0);" class="list-group-item list-group-item-action task-item" onclick="showTaskDetails('{{ task.id }}')">#}
{#                    <div class="d-flex justify-content-between align-items-center">#}
{#                        <h5 class="mb-1">{{ task.title }}</h5>#}
{#                        <small>Deadline: {{ task.deadline }}</small>#}
{#                    </div>#}
{#                    <p class="mb-1">Progress: {{ task.progress }}%</p>#}
{#                    <small>Payment Status: {{ task.paid|yesno:"Paid,Pending" }}</small>#}
{#                </a>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Task Details -->#}
{#        {% for task in tasks %}#}
{#        <div id="task-details-{{ task.id }}" class="task-details">#}
{#            <button class="btn btn-link back-button mb-3" onclick="showTaskList()">← Back to Task List</button>#}
{#            <h3>{{ task.title }}</h3>#}
{#            <p>Deadline: {{ task.deadline }}</p>#}
{#            <p>Progress: {{ task.progress }}%</p>#}
{#            <p>Payment for this task: {{ task.money_for_task }} USD</p>#}
{#            <p><strong>Payment Status:</strong> {{ task.paid|yesno:"Paid,Pending" }}</p>#}
{##}
{#            <form method="post">#}
{#                {% csrf_token %}#}
{#                <div class="mb-3">#}
{#                    <label for="progress_{{ task.id }}" class="form-label">Update Progress:</label>#}
{#                    <input type="number" class="form-control" id="progress_{{ task.id }}" name="progress" value="{{ task.progress }}" min="0" max="100">#}
{#                </div>#}
{##}
{#                <div class="mb-3">#}
{#                    <label for="feedback_{{ task.id }}" class="form-label">Feedback:</label>#}
{#                    <textarea id="feedback_{{ task.id }}" name="feedback" class="form-control">{{ task.feedback }}</textarea>#}
{#                </div>#}
{##}
{#                <input type="hidden" name="task_id" value="{{ task.id }}">#}
{#                <button type="submit" class="btn btn-primary">Update Task</button>#}
{#            </form>#}
{#        </div>#}
{#        {% endfor %}#}
{#    </div>#}
{##}
{#    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>#}
{#    <script>#}
{#        function showTaskDetails(taskId) {#}
{#            document.getElementById('task-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#            document.getElementById('task-details-' + taskId).style.display = 'block';#}
{#        }#}
{##}
{#        function showTaskList() {#}
{#            document.getElementById('task-list').style.display = 'block';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#        }#}
{#    </script>#}
{##}
{#</body>#}
{#</html>#}







{##}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>Developer Tasks</title>#}
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#    <style>#}
{#        .task-item {#}
{#            cursor: pointer;#}
{#        }#}
{#        .back-button {#}
{#            cursor: pointer;#}
{#        }#}
{#        .task-details, #feedback-tasks-list {#}
{#            display: none;#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{##}
{#    <!-- Navbar -->#}
{#    <nav class="navbar navbar-expand-lg navbar-light bg-light">#}
{#        <div class="container">#}
{#            <a class="navbar-brand" href="#">Developer Dashboard</a>#}
{#            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">#}
{#                <span class="navbar-toggler-icon"></span>#}
{#            </button>#}
{#            <div class="collapse navbar-collapse" id="navbarNav">#}
{#                <ul class="navbar-nav ms-auto">#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#payment-history">Payment History</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="javascript:void(0);" onclick="showFeedbackTasksList()">Write Feedback</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#update-progress">Update Progress</a>#}
{#                    </li>#}
{#                </ul>#}
{#            </div>#}
{#        </div>#}
{#    </nav>#}
{##}
{#    <!-- Main Content -->#}
{#    <div class="container my-4">#}
{#        <h1 class="text-center">Your Tasks</h1>#}
{#        <h2 class="text-center">Your Balance: {{ balance }} USD</h2>#}
{##}
{#        <!-- Task List -->#}
{#        <div id="task-list">#}
{#            <h2>All Tasks and Deadlines</h2>#}
{#            <div class="list-group">#}
{#                {% for task in tasks %}#}
{#                <a href="javascript:void(0);" class="list-group-item list-group-item-action task-item" onclick="showTaskDetails('{{ task.id }}')">#}
{#                    <div class="d-flex justify-content-between align-items-center">#}
{#                        <h5 class="mb-1">{{ task.title }}</h5>#}
{#                        <small>Deadline: {{ task.deadline }}</small>#}
{#                    </div>#}
{#                    <p class="mb-1">Progress: {{ task.progress }}%</p>#}
{#                    <small>Payment Status: {{ task.paid|yesno:"Paid,Pending" }}</small>#}
{#                </a>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Feedback Tasks List -->#}
{#        <div id="feedback-tasks-list">#}
{#            <h2>Select a Task to Provide Feedback</h2>#}
{#            <div class="list-group">#}
{#                {% for task in tasks %}#}
{#                <a href="javascript:void(0);" class="list-group-item list-group-item-action" onclick="showFeedbackForm('{{ task.id }}')">#}
{#                    {{ task.title }}#}
{#                </a>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Task Feedback Form -->#}
{#        {% for task in tasks %}#}
{#        <div id="feedback-form-{{ task.id }}" class="task-details">#}
{#            <button class="btn btn-link back-button mb-3" onclick="showFeedbackTasksList()">← Back to Task List</button>#}
{#            <h3>Provide Feedback for: {{ task.title }}</h3>#}
{##}
{#            <form method="post">#}
{#                {% csrf_token %}#}
{#                <div class="mb-3">#}
{#                    <label for="feedback_{{ task.id }}" class="form-label">Feedback:</label>#}
{#                    <textarea id="feedback_{{ task.id }}" name="feedback" class="form-control">{{ task.feedback }}</textarea>#}
{#                </div>#}
{#                <input type="hidden" name="task_id" value="{{ task.id }}">#}
{#                <button type="submit" class="btn btn-primary">Submit Feedback</button>#}
{#            </form>#}
{#        </div>#}
{#        {% endfor %}#}
{#    </div>#}
{##}
{#    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>#}
{#    <script>#}
{#        function showFeedbackTasksList() {#}
{#            document.getElementById('task-list').style.display = 'none';#}
{#            document.getElementById('feedback-tasks-list').style.display = 'block';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#        }#}
{##}
{#        function showFeedbackForm(taskId) {#}
{#            document.getElementById('feedback-tasks-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#            document.getElementById('feedback-form-' + taskId).style.display = 'block';#}
{#        }#}
{##}
{#        function showTaskDetails(taskId) {#}
{#            document.getElementById('task-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#            document.getElementById('feedback-tasks-list').style.display = 'none';#}
{#            document.getElementById('feedback-form-' + taskId).style.display = 'block';#}
{#        }#}
{#    </script>#}
{##}
{#</body>#}
{#</html>#}



{##}
{##}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <meta name="viewport" content="width=device-width, initial-scale=1.0">#}
{#    <title>Developer Dashboard - Hera Style</title>#}
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">#}
{#    <style>#}
{#        body {#}
{#            font-family: Arial, sans-serif;#}
{#            background-color: #f8f9fa;#}
{#        }#}
{#        #}
{#        .navbar-brand, .nav-link {#}
{#            font-weight: 600;#}
{#            color: #4a4a8d !important;#}
{#        }#}
{##}
{#        h1, h2 {#}
{#            color: #343a40;#}
{#            font-weight: 700;#}
{#        }#}
{##}
{#        .task-item, .list-group-item {#}
{#            background-color: #fff;#}
{#            border: 1px solid #e1e4e8;#}
{#            border-radius: 5px;#}
{#            margin-bottom: 10px;#}
{#            padding: 15px;#}
{#            transition: all 0.3s ease-in-out;#}
{#        }#}
{##}
{#        .task-item:hover, .list-group-item:hover {#}
{#            background-color: #f0f4f8;#}
{#            transform: translateY(-3px);#}
{#            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);#}
{#        }#}
{##}
{#        .countdown {#}
{#            font-weight: bold;#}
{#        }#}
{##}
{#        .btn-primary {#}
{#            background-color: #4a4a8d;#}
{#            border: none;#}
{#        }#}
{##}
{#        .btn-primary:hover {#}
{#            background-color: #3b3b6f;#}
{#        }#}
{#        #}
{#        .back-button {#}
{#            cursor: pointer;#}
{#            color: #4a4a8d;#}
{#        }#}
{##}
{#        .back-button:hover {#}
{#            color: #3b3b6f;#}
{#            text-decoration: underline;#}
{#        }#}
{#    </style>#}
{#</head>#}
{#<body>#}
{##}
{#    <!-- Navbar -->#}
{#    <nav class="navbar navbar-expand-lg navbar-light bg-light">#}
{#        <div class="container">#}
{#            <a class="navbar-brand" href="#">Developer Dashboard</a>#}
{#            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">#}
{#                <span class="navbar-toggler-icon"></span>#}
{#            </button>#}
{#            <div class="collapse navbar-collapse" id="navbarNav">#}
{#                <ul class="navbar-nav ms-auto">#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="{% url 'deduction_logs' developer.id %}">Payment History</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="javascript:void(0);" onclick="showFeedbackTasksList()">Write Feedback</a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="#update-progress">Update Progress</a>#}
{#                    </li>#}
{#                </ul>#}
{#            </div>#}
{#        </div>#}
{#    </nav>#}
{##}
{#    <!-- Main Content -->#}
{#    <div class="container my-4">#}
{#        <h1 class="text-center">Your Tasks</h1>#}
{#        <h2 class="text-center">Balance: {{ balance }} USD</h2>#}
{##}
{#        <!-- Task List -->#}
{#        <div id="task-list">#}
{#            <h2>All Tasks and Deadlines</h2>#}
{#            <div class="list-group" id="tasks-container">#}
{#                {% for task in tasks %}#}
{#                <a href="javascript:void(0);" class="list-group-item task-item" data-deadline="{{ task.deadline }}" onclick="showTaskDetails('{{ task.id }}')">#}
{#                    <div class="d-flex justify-content-between align-items-center">#}
{#                        <h5 class="mb-1">{{ task.title }}</h5>#}
{#                        <small id="countdown-{{ task.id }}" class="countdown" data-deadline="{{ task.deadline }}"></small>#}
{#                    </div>#}
{#                    <p class="mb-1">Progress: {{ task.progress }}%</p>#}
{#                    <small>Payment Status: {{ task.paid|yesno:"Paid,Pending" }}</small>#}
{#                </a>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Feedback Tasks List -->#}
{#        <div id="feedback-tasks-list">#}
{#            <button class="btn btn-link back-button mb-3" onclick="showTaskList()">← Go Back to Task List</button>#}
{#            <h2>Select a Task to Provide Feedback</h2>#}
{#            <div class="list-group">#}
{#                {% for task in tasks %}#}
{#                <a href="javascript:void(0);" class="list-group-item list-group-item-action" onclick="showFeedbackForm('{{ task.id }}')">#}
{#                    {{ task.title }}#}
{#                </a>#}
{#                {% endfor %}#}
{#            </div>#}
{#        </div>#}
{##}
{#        <!-- Task Feedback Form -->#}
{#        {% for task in tasks %}#}
{#        <div id="feedback-form-{{ task.id }}" class="task-details">#}
{#            <button class="btn btn-link back-button mb-3" onclick="showFeedbackTasksList()">← Go Back to Task List</button>#}
{#            <h3>Provide Feedback for: {{ task.title }}</h3>#}
{##}
{#            <form method="post">#}
{#                {% csrf_token %}#}
{#                <div class="mb-3">#}
{#                    <label for="feedback_{{ task.id }}" class="form-label">Feedback:</label>#}
{#                    <textarea id="feedback_{{ task.id }}" name="feedback" class="form-control">{{ task.feedback }}</textarea>#}
{#                </div>#}
{#                <input type="hidden" name="task_id" value="{{ task.id }}">#}
{#                <button type="submit" class="btn btn-primary">Submit Feedback</button>#}
{#            </form>#}
{#        </div>#}
{#        {% endfor %}#}
{#    </div>#}
{##}
{#    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>#}
{#    <script>#}
{#        function showFeedbackTasksList() {#}
{#            document.getElementById('task-list').style.display = 'none';#}
{#            document.getElementById('feedback-tasks-list').style.display = 'block';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#        }#}
{##}
{#        function showFeedbackForm(taskId) {#}
{#            document.getElementById('feedback-tasks-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#            document.getElementById('feedback-form-' + taskId).style.display = 'block';#}
{#        }#}
{##}
{#        function showTaskList() {#}
{#            document.getElementById('task-list').style.display = 'block';#}
{#            document.getElementById('feedback-tasks-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#        }#}
{##}
{#        function showTaskDetails(taskId) {#}
{#            document.getElementById('task-list').style.display = 'none';#}
{#            document.querySelectorAll('.task-details').forEach(detail => {#}
{#                detail.style.display = 'none';#}
{#            });#}
{#            document.getElementById('feedback-tasks-list').style.display = 'none';#}
{#            document.getElementById('feedback-form-' + taskId).style.display = 'block';#}
{#        }#}
{##}
{#        function updateCountdowns() {#}
{#            const countdownElements = document.querySelectorAll('.countdown');#}
{#            const tasksContainer = document.getElementById('tasks-container');#}
{##}
{#            const taskItems = Array.from(tasksContainer.children);#}
{##}
{#            taskItems.forEach(taskItem => {#}
{#                const countdownElement = taskItem.querySelector('.countdown');#}
{#                const deadlineDate = new Date(countdownElement.getAttribute('data-deadline'));#}
{#                const today = new Date();#}
{#                const timeDiff = deadlineDate - today;#}
{#                const daysLeft = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));#}
{##}
{#                if (daysLeft > 10) {#}
{#                    countdownElement.style.color = 'green';#}
{#                } else if (daysLeft > 5) {#}
{#                    countdownElement.style.color = 'yellow';#}
{#                } else {#}
{#                    countdownElement.style.color = 'red';#}
{#                }#}
{##}
{#                countdownElement.textContent = daysLeft > 0 ? `${daysLeft} days left` : "Deadline passed";#}
{#                taskItem.setAttribute('data-days-left', daysLeft);#}
{#            });#}
{##}
{#            const sortedTasks = taskItems.sort((a, b) => {#}
{#                return a.getAttribute('data-days-left') - b.getAttribute('data-days-left');#}
{#            });#}
{##}
{#            tasksContainer.innerHTML = '';#}
{#            sortedTasks.forEach(task => tasksContainer.appendChild(task));#}
{#        }#}
{##}
{#        document.addEventListener('DOMContentLoaded', updateCountdowns);#}
{#    </script>#}
{##}
{#</body>#}
{#</html>#}




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .navbar-brand, .nav-link {
            font-weight: 600;
            color: #4a4a8d !important;
        }
        .task-item {
            cursor: pointer;
            background-color: #fff;
            margin-bottom: 10px;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .countdown {
            font-weight: bold;
        }
        .countdown.green {
            color: green;
        }
        .countdown.yellow {
            color: #ffc107;
        }
        .countdown.red {
            color: #dc3545;
        }
        .countdown.gray {
            color: gray;
        }
        .btn-primary {
            background-color: #4a4a8d;
            border: none;
        }
        .btn-primary:hover {
            background-color: #3b3b6f;
        }
        .back-button {
            cursor: pointer;
            color: #4a4a8d;
        }
        .back-button:hover {
            color: #3b3b6f;
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">Developer Dashboard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#deduction-log-section">Payment History</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0);" onclick="showFeedbackTasksList()">Write Feedback</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0);" onclick="showUpdateProgressList()">Update Progress</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-4">
        <h1 class="text-center">Your Tasks</h1>
        <h2 class="text-center">Balance: {{ balance }} USD</h2>

        <!-- Task List -->
        <div id="task-list">
            <h2>All Tasks and Deadlines</h2>
            <div class="list-group" id="tasks-container">
                {% for task in tasks %}
                <a href="javascript:void(0);" class="list-group-item task-item" data-deadline="{{ task.deadline }}">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5>{{ task.title }}</h5>
                        <small id="countdown-{{ task.id }}" class="countdown" data-deadline="{{ task.deadline }}"></small>
                    </div>
                    <p>Progress: {{ task.progress }}%</p>
                    <small>Payment Status: {{ task.paid|yesno:"Paid,Pending" }}</small>
                </a>
                {% endfor %}
            </div>
        </div>

        <!-- Deduction Logs Section -->
        <div id="deduction-log-section" class="my-5">
            <h2>Payment History</h2>
            {% if deduction_logs %}
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Amount (USD)</th>
                            <th>Deducted By</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for log in deduction_logs %}
                        <tr>
                            <td>{{ log.deduction_amount }}</td>
                            <td>{{ log.deducted_by.username }}</td>
                            <td>{{ log.deduction_date }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p class="text-muted">No deductions recorded.</p>
            {% endif %}
        </div>

        <!-- Feedback Tasks List -->
        <div id="feedback-tasks-list" style="display: none;">
            <button class="btn btn-link back-button mb-3" onclick="showTaskList()">← Go Back to Task List</button>
            <h2>Select a Task to Provide Feedback</h2>
            <div class="list-group">
                {% for task in tasks %}
                <a href="javascript:void(0);" class="list-group-item list-group-item-action" onclick="showFeedbackForm('{{ task.id }}')">
                    {{ task.title }}
                </a>
                {% endfor %}
            </div>
        </div>

        <!-- Task Feedback Form -->
        {% for task in tasks %}
        <div id="feedback-form-{{ task.id }}" class="task-details" style="display: none;">
            <button class="btn btn-link back-button mb-3" onclick="showFeedbackTasksList()">← Go Back to Task List</button>
            <h3>Provide Feedback for: {{ task.title }}</h3>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="feedback_{{ task.id }}" class="form-label">Feedback:</label>
                    <textarea id="feedback_{{ task.id }}" name="feedback" class="form-control">{{ task.feedback }}</textarea>
                </div>
                <input type="hidden" name="task_id" value="{{ task.id }}">
                <button type="submit" class="btn btn-primary">Submit Feedback</button>
            </form>
        </div>
        {% endfor %}

        <!-- Update Progress List -->
        <div id="update-progress-list" style="display: none;">
            <button class="btn btn-link back-button mb-3" onclick="showTaskList()">← Go Back to Task List</button>
            <h2>Select a Task to Update Progress</h2>
            <div class="list-group">
                {% for task in tasks %}
                <a href="javascript:void(0);" class="list-group-item list-group-item-action" onclick="showUpdateProgressForm('{{ task.id }}')">
                    {{ task.title }}
                </a>
                {% endfor %}
            </div>
        </div>

        <!-- Update Progress Form -->
        {% for task in tasks %}
        <div id="update-progress-form-{{ task.id }}" class="task-details" style="display: none;">
            <button class="btn btn-link back-button mb-3" onclick="showUpdateProgressList()">← Go Back to Task List</button>
            <h3>Update Progress for: {{ task.title }}</h3>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="progress_{{ task.id }}" class="form-label">Progress (%):</label>
                    <input type="number" id="progress_{{ task.id }}" name="progress" class="form-control" value="{{ task.progress }}" min="0" max="100">
                </div>
                <input type="hidden" name="task_id" value="{{ task.id }}">
                <button type="submit" class="btn btn-primary">Update Progress</button>
            </form>
        </div>
        {% endfor %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function showFeedbackTasksList() {
            document.getElementById('task-list').style.display = 'none';
            document.getElementById('feedback-tasks-list').style.display = 'block';
            document.querySelectorAll('.task-details').forEach(detail => detail.style.display = 'none');
        }

        function showFeedbackForm(taskId) {
            document.getElementById('feedback-tasks-list').style.display = 'none';
            document.getElementById('feedback-form-' + taskId).style.display = 'block';
        }

        function showTaskList() {
            document.getElementById('task-list').style.display = 'block';
            document.getElementById('feedback-tasks-list').style.display = 'none';
            document.getElementById('update-progress-list').style.display = 'none';
            document.querySelectorAll('.task-details').forEach(detail => detail.style.display = 'none');
        }

        function showUpdateProgressList() {
            document.getElementById('task-list').style.display = 'none';
            document.getElementById('update-progress-list').style.display = 'block';
            document.querySelectorAll('.task-details').forEach(detail => detail.style.display = 'none');
        }

        function showUpdateProgressForm(taskId) {
            document.getElementById('update-progress-list').style.display = 'none';
            document.getElementById('update-progress-form-' + taskId).style.display = 'block';
        }

        function updateCountdowns() {
            const countdownElements = document.querySelectorAll('.countdown');

            countdownElements.forEach(countdownElement => {
                const deadlineDate = new Date(countdownElement.getAttribute('data-deadline'));
                const today = new Date();
                const timeDiff = deadlineDate - today;
                const daysLeft = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));

                countdownElement.classList.remove('green', 'yellow', 'red', 'gray');
                
                if (daysLeft > 10) {
                    countdownElement.textContent = `${daysLeft} days left`;
                    countdownElement.classList.add('green');
                } else if (daysLeft > 5) {
                    countdownElement.textContent = `${daysLeft} days left`;
                    countdownElement.classList.add('yellow');
                } else if (daysLeft > 0) {
                    countdownElement.textContent = `${daysLeft} days left`;
                    countdownElement.classList.add('red');
                } else {
                    countdownElement.textContent = "Deadline passed";
                    countdownElement.classList.add('gray');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', updateCountdowns);
    </script>

</body>
</html>

